## 検索機能

### 設置場所
トップページのタブ上

### 仕様
 - バックエンドとの通信は不要
 - 「検索」というよりは「フィルタリング」トップページに表示されているカードが、検索によってフィルタリングされ、絞り込まれるイメージ
 - ロジックのjsは外部ファイルとして読み込む

### ロジックの方向性
 - ページロード後にjsonか何かで検索対象のリストを読み込む
 - キーボードに入力するたびに検索が走り、検索結果が反映される
 - ファイル名,title,tags,descriptionを_で繋げて一つの文字列として、inputの文字列が含まれるかを調べる
   (結合文字列 <- inputと部分一致するかを調べる>) , ArticleCard表示用のデータ
   (結合文字列) , ArticleCard表示用のデータ
   (結合文字列) , ArticleCard表示用のデータ
 - ページビルド時に検索用のjsonか何かを生成する

### 実装済み（2026-02-02）
 - `src/infra/build.ts`: ビルド時に`dist/search-data.json`を生成
 - `src/ui/pages/top/top.tsx`: 検索ボックスをタブ上に配置
 - `public/scripts/search.js`: クライアントサイドの検索ロジック
 - 検索中はタブを非表示にし、全カテゴリ横断で結果を表示

### 本文の全文検索について

#### 現状
 - 検索対象: slug, title, tags, description
 - 本文（content）は含まれていない

#### 本文検索を追加する場合の課題
 - JSONサイズ増大（記事が増えると数MB〜になる可能性）
 - HTMLタグの除去が必要（contentはMarkdown→HTML変換後）
 - 単純な部分一致だと「の」「が」などで大量ヒットする

#### 対応方針の選択肢

**A. 現在の実装を拡張（小規模向け）**
 - `searchText`に本文を追加するだけ
 - 記事数が数十件程度なら問題なし
 - 実装コストが低い

**B. 静的サイト向け検索ライブラリ導入（中〜大規模向け）**
 - Pagefind（https://pagefind.app/）など
 - ビルド時にインデックスを生成し、効率的な検索を実現
 - 日本語対応、ハイライト表示なども可能
 - 導入コストはあるが、スケーラブル
